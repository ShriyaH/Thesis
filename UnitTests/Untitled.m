% m = 1000;
% m = [m*eye(3) zeros(3,1)
%      zeros(1,3) 1];
%  
% J = [10000,0,0;0,2000,0;0,0,15000];
% J = [J zeros(3,1)
%      zeros(1,3) 1];
%  
% x = zeros(4,4); 
% 
% dJ = [x, m;
%       J, x];
%   
% w = [3;4;5];
% v = [6;7;8];
% 
% dw = [w;0;v;0];
% 
% dq_W_BA = omega_tensor(dw,3);
% dnum_W_BA = omega_tensor(dw,4);
% 
% z1 = dJ * dw;
% z = dnum_W_BA * z1;
% 
% w_a = [0 0 3e-4];


dI = [0 0 0 0 3 0 0 0;0 0 0 0 0 3 0 0;0 0 0 0 0 0 3 0;0 0 0 0 0 0 0 1;16638.7149212849 0 0 0 0 0 0 0;0 2072.19825461825 0 0 0 0 0 0;0 0 15462.0462703546 0 0 0 0 0;0 0 0 1 0 0 0 0]; 
[U, S, V] = svd(dI);
dI_inv =  V*inv(S)*U';
ddI_inv = inv(dI);
ddI = [0 0 0 0 6 0 0 0;0 0 0 0 0 6 0 0;0 0 0 0 0 0 6 0;0 0 0 0 0 0 0 1;16638.7149212849 0 0 0 0 0 0 0;0 2072.19825461825 0 0 0 0 0 0;0 0 15462.0462703546 0 0 0 0 0;0 0 0 1 0 0 0 0]; 
B = ddI/dI;

% figure()
% plot(t3,y3(:,1)); 
% hold on
% plot(t3,y3(:,2)); 
% plot(t3,y3(:,3));
% plot(t3,y3(:,4));
% xlabel('Time (s)');
% % ylabel('Position (m)');
% % legend('X_x','X_y','X_z');
% grid on